[{"data":1,"prerenderedAt":509},["Reactive",2],{"content-query-3U7doOZYJx":3,"navigation":482,"content-navigation-8C37fagqQL":501},[4],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":9,"description":10,"date":11,"draft":7,"tags":12,"thumbnail":17,"slug":18,"navigation":7,"excerpt":19,"body":29,"_type":477,"_id":478,"_source":479,"_file":480,"_extension":481},"/en/thoughts/mongo-db","thoughts",false,"","Integrating MongoDB and Mongoose with Nuxt 3","Building dynamic web applications often requires seamless integration with a robust database solution. When it comes to creating powerful server-side applications, MongoDB has emerged as a popular choice among developers due to its flexibility and scalability. Combined with the Vue.js framework, Nuxt.js provides a solid foundation for building fast, server-rendered applications. However, incorporating MongoDB and its object modeling tool, Mongoose, into a Nuxt project might seem like a daunting task for those new to the stack.","2023-10-06",[13,14,15,16],"nuxt","nuxt3","mongodb","mongoose","/images/thoughts/mongodb.webp","mongo-db",{"type":20,"children":21},"root",[22],{"type":23,"tag":24,"props":25,"children":26},"element","p",{},[27],{"type":28,"value":10},"text",{"type":20,"children":30,"toc":463},[31,35,40,47,52,65,70,79,84,90,106,111,121,142,168,179,192,201,206,224,234,252,261,274,281,286,292,298,312,325,334,339,348,353,363,382,391,396,401,406,411,416,430,436,441],{"type":23,"tag":24,"props":32,"children":33},{},[34],{"type":28,"value":10},{"type":23,"tag":24,"props":36,"children":37},{},[38],{"type":28,"value":39},"In this blog post, we'll explore two simple yet effective methods to add MongoDB and Mongoose to your Nuxt 3 project. Whether you're a seasoned developer or just starting your journey in full-stack web development, this guide will help you leverage the capabilities of MongoDB and Mongoose within the Nuxt ecosystem.",{"type":23,"tag":41,"props":42,"children":44},"h2",{"id":43},"prerequisites",[45],{"type":28,"value":46},"Prerequisites",{"type":23,"tag":24,"props":48,"children":49},{},[50],{"type":28,"value":51},"Before we get started, make sure you have a working nuxt 3 project. If you don't have one already, you can create a new project using the following command:",{"type":23,"tag":53,"props":54,"children":59},"pre",{"className":55,"code":57,"language":58,"meta":8},[56],"language-bash","npx nuxi init \u003Cproject-name>\n","bash",[60],{"type":23,"tag":61,"props":62,"children":63},"code",{"__ignoreMap":8},[64],{"type":28,"value":57},{"type":23,"tag":24,"props":66,"children":67},{},[68],{"type":28,"value":69},"Once the project is created, navigate to the project directory and install the dependencies:",{"type":23,"tag":53,"props":71,"children":74},{"className":72,"code":73,"language":58,"meta":8},[56],"cd \u003Cproject-name>\nnpm install // or yarn install\n",[75],{"type":23,"tag":61,"props":76,"children":77},{"__ignoreMap":8},[78],{"type":28,"value":73},{"type":23,"tag":24,"props":80,"children":81},{},[82],{"type":28,"value":83},"Now that we have a working nuxt 3 project, let's explore the two methods of adding MongoDB and Mongoose to our project.",{"type":23,"tag":41,"props":85,"children":87},{"id":86},"method-1-using-the-nuxt-server-utils-module",[88],{"type":28,"value":89},"Method 1: Using the nuxt-server-utils module",{"type":23,"tag":24,"props":91,"children":92},{},[93,95,104],{"type":28,"value":94},"This is the easiest way to add MongoDB and Mongoose to your Nuxt 3 project. The ",{"type":23,"tag":96,"props":97,"children":101},"a",{"href":98,"rel":99},"https://nuxt-server-utils.jahid.dev",[100],"nofollow",[102],{"type":28,"value":103},"nuxt-server-utils",{"type":28,"value":105}," module provides a set of utilities that allow you to interact with your MongoDB database from within your Nuxt 3 application. It also provides a simple API for creating and managing your MongoDB collections.",{"type":23,"tag":24,"props":107,"children":108},{},[109],{"type":28,"value":110},"To get started, install the nuxt-server-utils module using the following command:",{"type":23,"tag":53,"props":112,"children":116},{"className":113,"code":114,"filename":115,"language":58,"meta":8},[56],"npm install nuxt-server-utils mongoose\n","npm",[117],{"type":23,"tag":61,"props":118,"children":119},{"__ignoreMap":8},[120],{"type":28,"value":114},{"type":23,"tag":24,"props":122,"children":123},{},[124,126,132,134,140],{"type":28,"value":125},"Next, Add the nuxt-server-utils module to the ",{"type":23,"tag":61,"props":127,"children":129},{"className":128},[],[130],{"type":28,"value":131},"modules",{"type":28,"value":133}," section of your ",{"type":23,"tag":61,"props":135,"children":137},{"className":136},[],[138],{"type":28,"value":139},"nuxt.config.ts",{"type":28,"value":141}," file:",{"type":23,"tag":24,"props":143,"children":144},{},[145,147,152,154,159,161,166],{"type":28,"value":146},"Add ",{"type":23,"tag":61,"props":148,"children":150},{"className":149},[],[151],{"type":28,"value":103},{"type":28,"value":153}," to the ",{"type":23,"tag":61,"props":155,"children":157},{"className":156},[],[158],{"type":28,"value":131},{"type":28,"value":160}," section of ",{"type":23,"tag":61,"props":162,"children":164},{"className":163},[],[165],{"type":28,"value":139},{"type":28,"value":167},":",{"type":23,"tag":53,"props":169,"children":174},{"className":170,"code":172,"filename":139,"language":173,"meta":8},[171],"language-ts","export default defineNuxtConfig({\n  // ...\n  modules: [\"nuxt-server-utils\"],\n});\n","ts",[175],{"type":23,"tag":61,"props":176,"children":177},{"__ignoreMap":8},[178],{"type":28,"value":172},{"type":23,"tag":24,"props":180,"children":181},{},[182,184,190],{"type":28,"value":183},"Finally, add the MongoDB connection string to the ",{"type":23,"tag":61,"props":185,"children":187},{"className":186},[],[188],{"type":28,"value":189},".env",{"type":28,"value":191}," file of your nuxt app:",{"type":23,"tag":53,"props":193,"children":196},{"className":194,"code":195,"filename":189,"language":58,"meta":8},[56],"MONGODB_URI=\u003Cyour-mongodb-connection-string>\n",[197],{"type":23,"tag":61,"props":198,"children":199},{"__ignoreMap":8},[200],{"type":28,"value":195},{"type":23,"tag":24,"props":202,"children":203},{},[204],{"type":28,"value":205},"That's it! Now you can use mongoose in your Nuxt 3 server routes like how it is normally used in Express.\nFor example, let's create a simple server route that returns all the documents from a MongoDB collection:",{"type":23,"tag":24,"props":207,"children":208},{},[209,215,217,223],{"type":23,"tag":210,"props":211,"children":212},"strong",{},[213],{"type":28,"value":214},"Defining the Mongoose model",{"type":28,"value":216}," in ",{"type":23,"tag":61,"props":218,"children":220},{"className":219},[],[221],{"type":28,"value":222},"server/models/user.model.ts",{"type":28,"value":167},{"type":23,"tag":53,"props":225,"children":229},{"className":226,"code":227,"filename":228,"language":173,"meta":8},[171],"import { Schema, model } from \"mongoose\";\n\nconst UserSchema = new Schema({\n  name: String,\n  email: String,\n});\n\nexport const User = model(\"User\", UserSchema);\n","server/models/User.ts",[230],{"type":23,"tag":61,"props":231,"children":232},{"__ignoreMap":8},[233],{"type":28,"value":227},{"type":23,"tag":24,"props":235,"children":236},{},[237,239,244,245,251],{"type":28,"value":238},"Now let's create the ",{"type":23,"tag":210,"props":240,"children":241},{},[242],{"type":28,"value":243},"API Route",{"type":28,"value":216},{"type":23,"tag":61,"props":246,"children":248},{"className":247},[],[249],{"type":28,"value":250},"server/api/users.get.ts",{"type":28,"value":167},{"type":23,"tag":53,"props":253,"children":256},{"className":254,"code":255,"filename":250,"language":173,"meta":8},[171],"import { User } from \"~~/server/models/user.model\";\n\nexport default defineEventHandler(async (event) => {\n  const users = await User.find();\n\n  return Users;\n});\n",[257],{"type":23,"tag":61,"props":258,"children":259},{"__ignoreMap":8},[260],{"type":28,"value":255},{"type":23,"tag":24,"props":262,"children":263},{},[264,266,272],{"type":28,"value":265},"If you navigate to the ",{"type":23,"tag":61,"props":267,"children":269},{"className":268},[],[270],{"type":28,"value":271},"/api/users",{"type":28,"value":273}," route, you should see a list of all the users in your database.",{"type":23,"tag":275,"props":276,"children":278},"h3",{"id":277},"video-tutorial",[279],{"type":28,"value":280},"Video Tutorial",{"type":23,"tag":24,"props":282,"children":283},{},[284],{"type":28,"value":285},"If you enjoy learning through video tutorials, I have created a video where i walk you through the above steps:",{"type":23,"tag":275,"props":287,"children":289},{"id":288},"example-project",[290],{"type":28,"value":291},"Example Project",{"type":23,"tag":41,"props":293,"children":295},{"id":294},"method-2-creating-a-nitro-plugin",[296],{"type":28,"value":297},"Method 2: Creating a Nitro plugin",{"type":23,"tag":24,"props":299,"children":300},{},[301,303,310],{"type":28,"value":302},"Nuxt 3 uses ",{"type":23,"tag":96,"props":304,"children":307},{"href":305,"rel":306},"https://nitro.unjs.io/",[100],[308],{"type":28,"value":309},"Nitro",{"type":28,"value":311}," under the hood to power its server-side rendering capabilities. Nitro provides a simple API for creating plugins that can be used to extend the functionality of your Nuxt 3 application.\nIn this section, we'll create a Nitro plugin that will allow us to use MongoDB and Mongoose in our Nuxt 3 project.",{"type":23,"tag":24,"props":313,"children":314},{},[315,317,323],{"type":28,"value":316},"First, let's create a new plugin file in the ",{"type":23,"tag":61,"props":318,"children":320},{"className":319},[],[321],{"type":28,"value":322},"server/plugins",{"type":28,"value":324}," directory:",{"type":23,"tag":53,"props":326,"children":329},{"className":327,"code":328,"language":58,"meta":8},[56],"touch server/plugins/mongodb.ts\n",[330],{"type":23,"tag":61,"props":331,"children":332},{"__ignoreMap":8},[333],{"type":28,"value":328},{"type":23,"tag":24,"props":335,"children":336},{},[337],{"type":28,"value":338},"Then let's install the required dependencies:",{"type":23,"tag":53,"props":340,"children":343},{"className":341,"code":342,"language":58,"meta":8},[56],"npm install mongoose\n",[344],{"type":23,"tag":61,"props":345,"children":346},{"__ignoreMap":8},[347],{"type":28,"value":342},{"type":23,"tag":24,"props":349,"children":350},{},[351],{"type":28,"value":352},"Next, let's add the following code to the newly created plugin file:",{"type":23,"tag":53,"props":354,"children":358},{"className":355,"code":356,"filename":357,"language":173,"meta":8},[171],"import { Nitro } from \"nitropack\";\nimport mongoose from \"mongoose\";\n\nexport default async (_nitroApp: Nitro) => {\n  const config = useRuntimeConfig();\n\n  try {\n    await mongoose.connect(config.mongodbUri);\n    console.log(\"Connected to MongoDB\");\n  } catch (e) {\n    console.error(e);\n  }\n};\n","server/plugins/mongodb.ts",[359],{"type":23,"tag":61,"props":360,"children":361},{"__ignoreMap":8},[362],{"type":28,"value":356},{"type":23,"tag":24,"props":364,"children":365},{},[366,368,374,376,381],{"type":28,"value":367},"Finally, let's add the plugin to the ",{"type":23,"tag":61,"props":369,"children":371},{"className":370},[],[372],{"type":28,"value":373},"plugins",{"type":28,"value":375}," section of our ",{"type":23,"tag":61,"props":377,"children":379},{"className":378},[],[380],{"type":28,"value":139},{"type":28,"value":141},{"type":23,"tag":53,"props":383,"children":386},{"className":384,"code":385,"filename":139,"language":173,"meta":8},[171],"export default defineNuxtConfig({\n  // ...\n  nitro: {\n    plugins: [\"~/server/plugins/mongodb.ts\"],\n  },\n});\n",[387],{"type":23,"tag":61,"props":388,"children":389},{"__ignoreMap":8},[390],{"type":28,"value":385},{"type":23,"tag":24,"props":392,"children":393},{},[394],{"type":28,"value":395},"That's it! Now you can use mongoose in your Nuxt 3 server routes like how it is normally used in Express.",{"type":23,"tag":275,"props":397,"children":399},{"id":398},"video-tutorial-1",[400],{"type":28,"value":280},{"type":23,"tag":24,"props":402,"children":403},{},[404],{"type":28,"value":405},"If you prefer video tutorials, you can watch the following video where I walk you through the process of adding MongoDB and Mongoose to a Nuxt 3 project:",{"type":23,"tag":275,"props":407,"children":409},{"id":408},"example-project-1",[410],{"type":28,"value":291},{"type":23,"tag":24,"props":412,"children":413},{},[414],{"type":28,"value":415},"Play around with the example project to get a better understanding of how to use MongoDB and Mongoose with Nuxt 3.",{"type":23,"tag":24,"props":417,"children":418},{},[419,421,428],{"type":28,"value":420},"You ca find the full source code of this example ",{"type":23,"tag":96,"props":422,"children":425},{"href":423,"rel":424},"https://github.com/jahidanowar/nuxt3-mongoose",[100],[426],{"type":28,"value":427},"here",{"type":28,"value":429},".",{"type":23,"tag":41,"props":431,"children":433},{"id":432},"conclusion",[434],{"type":28,"value":435},"Conclusion",{"type":23,"tag":24,"props":437,"children":438},{},[439],{"type":28,"value":440},"In this blog post, we explored two simple yet effective methods to add MongoDB and Mongoose to your Nuxt 3 project. Whether you're a seasoned developer or just starting your journey in full-stack web development, this guide will help you leverage the capabilities of MongoDB and Mongoose within the Nuxt ecosystem.",{"type":23,"tag":24,"props":442,"children":443},{},[444,446,453,455,462],{"type":28,"value":445},"If you have any questions or feedback, feel free to reach out to me on ",{"type":23,"tag":96,"props":447,"children":450},{"href":448,"rel":449},"https://jahid.dev/d",[100],[451],{"type":28,"value":452},"Discord",{"type":28,"value":454}," or ",{"type":23,"tag":96,"props":456,"children":459},{"href":457,"rel":458},"https://twitter.com/jahidDev",[100],[460],{"type":28,"value":461},"Twitter",{"type":28,"value":429},{"title":8,"searchDepth":464,"depth":464,"links":465},2,[466,467,472,476],{"id":43,"depth":464,"text":46},{"id":86,"depth":464,"text":89,"children":468},[469,471],{"id":277,"depth":470,"text":280},3,{"id":288,"depth":470,"text":291},{"id":294,"depth":464,"text":297,"children":473},[474,475],{"id":398,"depth":470,"text":280},{"id":408,"depth":470,"text":291},{"id":432,"depth":464,"text":435},"markdown","content:en:thoughts:mongo-db.md","content","en/thoughts/mongo-db.md","md",[483,491,498],{"title":484,"_path":485,"children":486},"Bg","/bg",[487],{"title":488,"_path":489,"icon":490},"Инфо","/bg/about","/images/icons/user.svg",{"title":492,"_path":493,"children":494},"En","/en",[495],{"title":496,"_path":497,"icon":490},"About","/en/about",{"title":8,"_path":499,"icon":500},"/","/images/icons/home.svg",[502,505,508],{"title":484,"_path":485,"children":503},[504],{"title":488,"_path":489,"icon":490},{"title":492,"_path":493,"children":506},[507],{"title":496,"_path":497,"icon":490},{"title":8,"_path":499,"icon":500},1707208320528]