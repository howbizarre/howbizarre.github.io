[{"data":1,"prerenderedAt":508},["Reactive",2],{"content-query-a9t4ypVwR2":3,"navigation":481,"content-navigation-8C37fagqQL":500},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"draft":6,"tags":11,"thumbnail":16,"slug":17,"navigation":6,"excerpt":18,"body":28,"_type":476,"_id":477,"_source":478,"_file":479,"_extension":480},"/en/thoughts/mongo-db","thoughts",false,"","Integrating MongoDB and Mongoose with Nuxt 3","Building dynamic web applications often requires seamless integration with a robust database solution. When it comes to creating powerful server-side applications, MongoDB has emerged as a popular choice among developers due to its flexibility and scalability. Combined with the Vue.js framework, Nuxt.js provides a solid foundation for building fast, server-rendered applications. However, incorporating MongoDB and its object modeling tool, Mongoose, into a Nuxt project might seem like a daunting task for those new to the stack.","2023-10-06",[12,13,14,15],"nuxt","nuxt3","mongodb","mongoose","/images/thoughts/mongodb.webp","mongo-db",{"type":19,"children":20},"root",[21],{"type":22,"tag":23,"props":24,"children":25},"element","p",{},[26],{"type":27,"value":9},"text",{"type":19,"children":29,"toc":462},[30,34,39,46,51,64,69,78,83,89,105,110,120,141,167,178,191,200,205,223,233,251,260,273,280,285,291,297,311,324,333,338,347,352,362,381,390,395,400,405,410,415,429,435,440],{"type":22,"tag":23,"props":31,"children":32},{},[33],{"type":27,"value":9},{"type":22,"tag":23,"props":35,"children":36},{},[37],{"type":27,"value":38},"In this blog post, we'll explore two simple yet effective methods to add MongoDB and Mongoose to your Nuxt 3 project. Whether you're a seasoned developer or just starting your journey in full-stack web development, this guide will help you leverage the capabilities of MongoDB and Mongoose within the Nuxt ecosystem.",{"type":22,"tag":40,"props":41,"children":43},"h2",{"id":42},"prerequisites",[44],{"type":27,"value":45},"Prerequisites",{"type":22,"tag":23,"props":47,"children":48},{},[49],{"type":27,"value":50},"Before we get started, make sure you have a working nuxt 3 project. If you don't have one already, you can create a new project using the following command:",{"type":22,"tag":52,"props":53,"children":58},"pre",{"className":54,"code":56,"language":57,"meta":7},[55],"language-bash","npx nuxi init \u003Cproject-name>\n","bash",[59],{"type":22,"tag":60,"props":61,"children":62},"code",{"__ignoreMap":7},[63],{"type":27,"value":56},{"type":22,"tag":23,"props":65,"children":66},{},[67],{"type":27,"value":68},"Once the project is created, navigate to the project directory and install the dependencies:",{"type":22,"tag":52,"props":70,"children":73},{"className":71,"code":72,"language":57,"meta":7},[55],"cd \u003Cproject-name>\nnpm install // or yarn install\n",[74],{"type":22,"tag":60,"props":75,"children":76},{"__ignoreMap":7},[77],{"type":27,"value":72},{"type":22,"tag":23,"props":79,"children":80},{},[81],{"type":27,"value":82},"Now that we have a working nuxt 3 project, let's explore the two methods of adding MongoDB and Mongoose to our project.",{"type":22,"tag":40,"props":84,"children":86},{"id":85},"method-1-using-the-nuxt-server-utils-module",[87],{"type":27,"value":88},"Method 1: Using the nuxt-server-utils module",{"type":22,"tag":23,"props":90,"children":91},{},[92,94,103],{"type":27,"value":93},"This is the easiest way to add MongoDB and Mongoose to your Nuxt 3 project. The ",{"type":22,"tag":95,"props":96,"children":100},"a",{"href":97,"rel":98},"https://nuxt-server-utils.jahid.dev",[99],"nofollow",[101],{"type":27,"value":102},"nuxt-server-utils",{"type":27,"value":104}," module provides a set of utilities that allow you to interact with your MongoDB database from within your Nuxt 3 application. It also provides a simple API for creating and managing your MongoDB collections.",{"type":22,"tag":23,"props":106,"children":107},{},[108],{"type":27,"value":109},"To get started, install the nuxt-server-utils module using the following command:",{"type":22,"tag":52,"props":111,"children":115},{"className":112,"code":113,"filename":114,"language":57,"meta":7},[55],"npm install nuxt-server-utils mongoose\n","npm",[116],{"type":22,"tag":60,"props":117,"children":118},{"__ignoreMap":7},[119],{"type":27,"value":113},{"type":22,"tag":23,"props":121,"children":122},{},[123,125,131,133,139],{"type":27,"value":124},"Next, Add the nuxt-server-utils module to the ",{"type":22,"tag":60,"props":126,"children":128},{"className":127},[],[129],{"type":27,"value":130},"modules",{"type":27,"value":132}," section of your ",{"type":22,"tag":60,"props":134,"children":136},{"className":135},[],[137],{"type":27,"value":138},"nuxt.config.ts",{"type":27,"value":140}," file:",{"type":22,"tag":23,"props":142,"children":143},{},[144,146,151,153,158,160,165],{"type":27,"value":145},"Add ",{"type":22,"tag":60,"props":147,"children":149},{"className":148},[],[150],{"type":27,"value":102},{"type":27,"value":152}," to the ",{"type":22,"tag":60,"props":154,"children":156},{"className":155},[],[157],{"type":27,"value":130},{"type":27,"value":159}," section of ",{"type":22,"tag":60,"props":161,"children":163},{"className":162},[],[164],{"type":27,"value":138},{"type":27,"value":166},":",{"type":22,"tag":52,"props":168,"children":173},{"className":169,"code":171,"filename":138,"language":172,"meta":7},[170],"language-ts","export default defineNuxtConfig({\n  // ...\n  modules: [\"nuxt-server-utils\"],\n});\n","ts",[174],{"type":22,"tag":60,"props":175,"children":176},{"__ignoreMap":7},[177],{"type":27,"value":171},{"type":22,"tag":23,"props":179,"children":180},{},[181,183,189],{"type":27,"value":182},"Finally, add the MongoDB connection string to the ",{"type":22,"tag":60,"props":184,"children":186},{"className":185},[],[187],{"type":27,"value":188},".env",{"type":27,"value":190}," file of your nuxt app:",{"type":22,"tag":52,"props":192,"children":195},{"className":193,"code":194,"filename":188,"language":57,"meta":7},[55],"MONGODB_URI=\u003Cyour-mongodb-connection-string>\n",[196],{"type":22,"tag":60,"props":197,"children":198},{"__ignoreMap":7},[199],{"type":27,"value":194},{"type":22,"tag":23,"props":201,"children":202},{},[203],{"type":27,"value":204},"That's it! Now you can use mongoose in your Nuxt 3 server routes like how it is normally used in Express.\nFor example, let's create a simple server route that returns all the documents from a MongoDB collection:",{"type":22,"tag":23,"props":206,"children":207},{},[208,214,216,222],{"type":22,"tag":209,"props":210,"children":211},"strong",{},[212],{"type":27,"value":213},"Defining the Mongoose model",{"type":27,"value":215}," in ",{"type":22,"tag":60,"props":217,"children":219},{"className":218},[],[220],{"type":27,"value":221},"server/models/user.model.ts",{"type":27,"value":166},{"type":22,"tag":52,"props":224,"children":228},{"className":225,"code":226,"filename":227,"language":172,"meta":7},[170],"import { Schema, model } from \"mongoose\";\n\nconst UserSchema = new Schema({\n  name: String,\n  email: String,\n});\n\nexport const User = model(\"User\", UserSchema);\n","server/models/User.ts",[229],{"type":22,"tag":60,"props":230,"children":231},{"__ignoreMap":7},[232],{"type":27,"value":226},{"type":22,"tag":23,"props":234,"children":235},{},[236,238,243,244,250],{"type":27,"value":237},"Now let's create the ",{"type":22,"tag":209,"props":239,"children":240},{},[241],{"type":27,"value":242},"API Route",{"type":27,"value":215},{"type":22,"tag":60,"props":245,"children":247},{"className":246},[],[248],{"type":27,"value":249},"server/api/users.get.ts",{"type":27,"value":166},{"type":22,"tag":52,"props":252,"children":255},{"className":253,"code":254,"filename":249,"language":172,"meta":7},[170],"import { User } from \"~~/server/models/user.model\";\n\nexport default defineEventHandler(async (event) => {\n  const users = await User.find();\n\n  return Users;\n});\n",[256],{"type":22,"tag":60,"props":257,"children":258},{"__ignoreMap":7},[259],{"type":27,"value":254},{"type":22,"tag":23,"props":261,"children":262},{},[263,265,271],{"type":27,"value":264},"If you navigate to the ",{"type":22,"tag":60,"props":266,"children":268},{"className":267},[],[269],{"type":27,"value":270},"/api/users",{"type":27,"value":272}," route, you should see a list of all the users in your database.",{"type":22,"tag":274,"props":275,"children":277},"h3",{"id":276},"video-tutorial",[278],{"type":27,"value":279},"Video Tutorial",{"type":22,"tag":23,"props":281,"children":282},{},[283],{"type":27,"value":284},"If you enjoy learning through video tutorials, I have created a video where i walk you through the above steps:",{"type":22,"tag":274,"props":286,"children":288},{"id":287},"example-project",[289],{"type":27,"value":290},"Example Project",{"type":22,"tag":40,"props":292,"children":294},{"id":293},"method-2-creating-a-nitro-plugin",[295],{"type":27,"value":296},"Method 2: Creating a Nitro plugin",{"type":22,"tag":23,"props":298,"children":299},{},[300,302,309],{"type":27,"value":301},"Nuxt 3 uses ",{"type":22,"tag":95,"props":303,"children":306},{"href":304,"rel":305},"https://nitro.unjs.io/",[99],[307],{"type":27,"value":308},"Nitro",{"type":27,"value":310}," under the hood to power its server-side rendering capabilities. Nitro provides a simple API for creating plugins that can be used to extend the functionality of your Nuxt 3 application.\nIn this section, we'll create a Nitro plugin that will allow us to use MongoDB and Mongoose in our Nuxt 3 project.",{"type":22,"tag":23,"props":312,"children":313},{},[314,316,322],{"type":27,"value":315},"First, let's create a new plugin file in the ",{"type":22,"tag":60,"props":317,"children":319},{"className":318},[],[320],{"type":27,"value":321},"server/plugins",{"type":27,"value":323}," directory:",{"type":22,"tag":52,"props":325,"children":328},{"className":326,"code":327,"language":57,"meta":7},[55],"touch server/plugins/mongodb.ts\n",[329],{"type":22,"tag":60,"props":330,"children":331},{"__ignoreMap":7},[332],{"type":27,"value":327},{"type":22,"tag":23,"props":334,"children":335},{},[336],{"type":27,"value":337},"Then let's install the required dependencies:",{"type":22,"tag":52,"props":339,"children":342},{"className":340,"code":341,"language":57,"meta":7},[55],"npm install mongoose\n",[343],{"type":22,"tag":60,"props":344,"children":345},{"__ignoreMap":7},[346],{"type":27,"value":341},{"type":22,"tag":23,"props":348,"children":349},{},[350],{"type":27,"value":351},"Next, let's add the following code to the newly created plugin file:",{"type":22,"tag":52,"props":353,"children":357},{"className":354,"code":355,"filename":356,"language":172,"meta":7},[170],"import { Nitro } from \"nitropack\";\nimport mongoose from \"mongoose\";\n\nexport default async (_nitroApp: Nitro) => {\n  const config = useRuntimeConfig();\n\n  try {\n    await mongoose.connect(config.mongodbUri);\n    console.log(\"Connected to MongoDB\");\n  } catch (e) {\n    console.error(e);\n  }\n};\n","server/plugins/mongodb.ts",[358],{"type":22,"tag":60,"props":359,"children":360},{"__ignoreMap":7},[361],{"type":27,"value":355},{"type":22,"tag":23,"props":363,"children":364},{},[365,367,373,375,380],{"type":27,"value":366},"Finally, let's add the plugin to the ",{"type":22,"tag":60,"props":368,"children":370},{"className":369},[],[371],{"type":27,"value":372},"plugins",{"type":27,"value":374}," section of our ",{"type":22,"tag":60,"props":376,"children":378},{"className":377},[],[379],{"type":27,"value":138},{"type":27,"value":140},{"type":22,"tag":52,"props":382,"children":385},{"className":383,"code":384,"filename":138,"language":172,"meta":7},[170],"export default defineNuxtConfig({\n  // ...\n  nitro: {\n    plugins: [\"~/server/plugins/mongodb.ts\"],\n  },\n});\n",[386],{"type":22,"tag":60,"props":387,"children":388},{"__ignoreMap":7},[389],{"type":27,"value":384},{"type":22,"tag":23,"props":391,"children":392},{},[393],{"type":27,"value":394},"That's it! Now you can use mongoose in your Nuxt 3 server routes like how it is normally used in Express.",{"type":22,"tag":274,"props":396,"children":398},{"id":397},"video-tutorial-1",[399],{"type":27,"value":279},{"type":22,"tag":23,"props":401,"children":402},{},[403],{"type":27,"value":404},"If you prefer video tutorials, you can watch the following video where I walk you through the process of adding MongoDB and Mongoose to a Nuxt 3 project:",{"type":22,"tag":274,"props":406,"children":408},{"id":407},"example-project-1",[409],{"type":27,"value":290},{"type":22,"tag":23,"props":411,"children":412},{},[413],{"type":27,"value":414},"Play around with the example project to get a better understanding of how to use MongoDB and Mongoose with Nuxt 3.",{"type":22,"tag":23,"props":416,"children":417},{},[418,420,427],{"type":27,"value":419},"You ca find the full source code of this example ",{"type":22,"tag":95,"props":421,"children":424},{"href":422,"rel":423},"https://github.com/jahidanowar/nuxt3-mongoose",[99],[425],{"type":27,"value":426},"here",{"type":27,"value":428},".",{"type":22,"tag":40,"props":430,"children":432},{"id":431},"conclusion",[433],{"type":27,"value":434},"Conclusion",{"type":22,"tag":23,"props":436,"children":437},{},[438],{"type":27,"value":439},"In this blog post, we explored two simple yet effective methods to add MongoDB and Mongoose to your Nuxt 3 project. Whether you're a seasoned developer or just starting your journey in full-stack web development, this guide will help you leverage the capabilities of MongoDB and Mongoose within the Nuxt ecosystem.",{"type":22,"tag":23,"props":441,"children":442},{},[443,445,452,454,461],{"type":27,"value":444},"If you have any questions or feedback, feel free to reach out to me on ",{"type":22,"tag":95,"props":446,"children":449},{"href":447,"rel":448},"https://jahid.dev/d",[99],[450],{"type":27,"value":451},"Discord",{"type":27,"value":453}," or ",{"type":22,"tag":95,"props":455,"children":458},{"href":456,"rel":457},"https://twitter.com/jahidDev",[99],[459],{"type":27,"value":460},"Twitter",{"type":27,"value":428},{"title":7,"searchDepth":463,"depth":463,"links":464},2,[465,466,471,475],{"id":42,"depth":463,"text":45},{"id":85,"depth":463,"text":88,"children":467},[468,470],{"id":276,"depth":469,"text":279},3,{"id":287,"depth":469,"text":290},{"id":293,"depth":463,"text":296,"children":472},[473,474],{"id":397,"depth":469,"text":279},{"id":407,"depth":469,"text":290},{"id":431,"depth":463,"text":434},"markdown","content:en:thoughts:mongo-db.md","content","en/thoughts/mongo-db.md","md",[482,490,497],{"title":483,"_path":484,"children":485},"Bg","/bg",[486],{"title":487,"_path":488,"icon":489},"Инфо","/bg/about","/images/icons/user.svg",{"title":491,"_path":492,"children":493},"En","/en",[494],{"title":495,"_path":496,"icon":489},"About","/en/about",{"title":7,"_path":498,"icon":499},"/","/images/icons/home.svg",[501,504,507],{"title":483,"_path":484,"children":502},[503],{"title":487,"_path":488,"icon":489},{"title":491,"_path":492,"children":505},[506],{"title":495,"_path":496,"icon":489},{"title":7,"_path":498,"icon":499},1707208320525]